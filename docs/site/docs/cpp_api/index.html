<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/openbr.ico">
        

	<title>C++ Plugin API - OpenBR</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body data-spy="scroll" data-target="#bs-sidebar">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">OpenBR</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../install/">Install</a>
                </li>
            
            
            
                <li >
                    <a href="../../tutorials/">Tutorials</a>
                </li>
            
            
            
                <li >
                    <a href="../../technical/">Technical Overviews</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../contribute/">Contribute</a>
                        </li>
                    
                        <li >
                            <a href="../../papers/">Publications</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Docs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../c_api/">C API</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">C++ Plugin API</a>
                        </li>
                    
                        <li >
                            <a href="../cl_api/">Command Line API</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Plugin Docs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../plugins/classification/">Classification</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/cluster/">Cluster</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/core/">Core</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/distance/">Distance</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/format/">Format</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/gallery/">Gallery</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/gui/">GUI</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/imgproc/">Image Processing</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/io/">I/O</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/metadata/">Metadata</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/output/">Output</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/video/">Video</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../c_api/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../cl_api/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/biometrics/openbr">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#file">File</a></li>
        
            <li><a href="#members">Members</a></li>
        
            <li><a href="#constructors">Constructors</a></li>
        
            <li><a href="#static-functions">Static Functions</a></li>
        
            <li><a href="#functions">Functions</a></li>
        
    
        <li class="main "><a href="#filelist">FileList</a></li>
        
            <li><a href="#constructors_1">Constructors</a></li>
        
            <li><a href="#static-functions_1">Static Functions</a></li>
        
            <li><a href="#functions_1">Functions</a></li>
        
    
        <li class="main "><a href="#template">Template</a></li>
        
            <li><a href="#members_1">Members</a></li>
        
            <li><a href="#constructors_2">Constructors</a></li>
        
            <li><a href="#static-functions_2">Static Functions</a></li>
        
            <li><a href="#functions_2">Functions</a></li>
        
    
        <li class="main "><a href="#templatelist">TemplateList</a></li>
        
    
        <li class="main "><a href="#context">Context</a></li>
        
    
        <li class="main "><a href="#object">Object</a></li>
        
    
        <li class="main "><a href="#factory">Factory</a></li>
        
    
        <li class="main "><a href="#transform">Transform</a></li>
        
    
        <li class="main "><a href="#untrainabletransform">UntrainableTransform</a></li>
        
    
        <li class="main "><a href="#metatransform">MetaTransform</a></li>
        
    
        <li class="main "><a href="#untrainablemetatransform">UntrainableMetaTransform</a></li>
        
    
        <li class="main "><a href="#metadatatransform">MetadataTransform</a></li>
        
    
        <li class="main "><a href="#untrainablemetadatatransform">UntrainableMetadataTransform</a></li>
        
    
        <li class="main "><a href="#timevaryingtransform">TimeVaryingTransform</a></li>
        
    
        <li class="main "><a href="#distance">Distance</a></li>
        
    
        <li class="main "><a href="#untrainabledistance">UntrainableDistance</a></li>
        
    
        <li class="main "><a href="#output">Output</a></li>
        
    
        <li class="main "><a href="#matrixoutput">MatrixOutput</a></li>
        
    
        <li class="main "><a href="#format">Format</a></li>
        
    
        <li class="main "><a href="#representation">Representation</a></li>
        
    
        <li class="main "><a href="#classifier">Classifier</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="file">File</h1>
<p>A file path with associated metadata.</p>
<p>The File is one of two important data structures in OpenBR (the <a href="#template">Template</a> is the other).
It is typically used to store the path to a file on disk with associated metadata.
The ability to associate a key/value metadata table with the file helps keep the API simple while providing customizable behavior.</p>
<p>When querying the value of a metadata key, the value will first try to be resolved against the file's private metadata table.
If the key does not exist in its local table then it will be resolved against the properties in the global Context.
By design file metadata may be set globally using Context::setProperty to operate on all files.</p>
<p>Files have a simple grammar that allow them to be converted to and from strings.
If a string ends with a <strong>]</strong> or <strong>)</strong> then the text within the final <strong>[]</strong> or <strong>()</strong> are parsed as comma separated metadata fields.
By convention, fields within <strong>[]</strong> are expected to have the format <tt>[key1=value1, key2=value2, ..., keyN=valueN]</tt> where order is irrelevant.
Fields within <strong>()</strong> are expected to have the format <tt>(value1, value2, ..., valueN)</tt> where order matters and the key context dependent.
The left hand side of the string not parsed in a manner described above is assigned to <a href="#qstring-name">name</a>.</p>
<p>Values are not necessarily stored as strings in the metadata table.
The system will attempt to infer and convert them to their "native" type.
The conversion logic is as follows:</p>
<ol>
<li>If the value starts with <strong>[</strong> and ends with <strong>]</strong> then it is treated as a comma separated list and represented with <a href="http://doc.qt.io/qt-5/qvariant.html#QVariantList-typedef">QVariantList</a>. Each value in the list is parsed recursively.</li>
<li>If the value starts with <strong>(</strong> and ends with <strong>)</strong> and contains four comma separated elements, each convertable to a floating point number, then it is represented with <a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>.</li>
<li>If the value starts with <strong>(</strong> and ends with <strong>)</strong> and contains two comma separated elements, each convertable to a floating point number, then it is represented with <a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a>.</li>
<li>If the value is convertable to a floating point number then it is represented with <tt>float</tt>.</li>
<li>Otherwise, it is represented with <a href="http://doc.qt.io/qt-5/QString.html">QString</a>.</li>
</ol>
<p>Metadata keys fall into one of two categories:
<em> camelCaseKeys are inputs that specify how to process the file.
</em> Capitalized_Underscored_Keys are outputs computed from processing the file.</p>
<p>Below are some of the most commonly occurring standardized keys:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>QString</td>
<td>Contents of <a href="#name">name</a></td>
</tr>
<tr>
<td>separator</td>
<td>QString</td>
<td>Separate <a href="#name">name</a> into multiple files</td>
</tr>
<tr>
<td>Index</td>
<td>int</td>
<td>Index of a template in a template list</td>
</tr>
<tr>
<td>Confidence</td>
<td>float</td>
<td>Classification/Regression quality</td>
</tr>
<tr>
<td>FTE</td>
<td>bool</td>
<td>Failure to enroll</td>
</tr>
<tr>
<td>FTO</td>
<td>bool</td>
<td>Failure to open</td>
</tr>
<tr>
<td>*_X</td>
<td>float</td>
<td>Position</td>
</tr>
<tr>
<td>*_Y</td>
<td>float</td>
<td>Position</td>
</tr>
<tr>
<td>*_Width</td>
<td>float</td>
<td>Size</td>
</tr>
<tr>
<td>*_Height</td>
<td>float</td>
<td>Size</td>
</tr>
<tr>
<td>*_Radius</td>
<td>float</td>
<td>Size</td>
</tr>
<tr>
<td>Label</td>
<td>QString</td>
<td>Class label</td>
</tr>
<tr>
<td>Theta</td>
<td>float</td>
<td>Pose</td>
</tr>
<tr>
<td>Roll</td>
<td>float</td>
<td>Pose</td>
</tr>
<tr>
<td>Pitch</td>
<td>float</td>
<td>Pose</td>
</tr>
<tr>
<td>Yaw</td>
<td>float</td>
<td>Pose</td>
</tr>
<tr>
<td>Points</td>
<td>QList<QPointF></td>
<td>List of unnamed points</td>
</tr>
<tr>
<td>Rects</td>
<td>QList<Rect></td>
<td>List of unnamed rects</td>
</tr>
<tr>
<td>Age</td>
<td>float</td>
<td>Age used for demographic filtering</td>
</tr>
<tr>
<td>Gender</td>
<td>QString</td>
<td>Subject gender</td>
</tr>
<tr>
<td>Train</td>
<td>bool</td>
<td>The data is for training, as opposed to enrollment</td>
</tr>
<tr>
<td>_*</td>
<td>*</td>
<td>Reserved for internal use</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="members">Members</h2>
<h3 id="qstring-name"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> name</h3>
<p>Path to a file on disk</p>
<h3 id="bool-fte">bool fte</h3>
<p>Failed to enroll. If true this file failed to be processed somewhere in the template enrollment algorithm</p>
<h3 id="qvariantmap-m_metadata"><a href="http://doc.qt.io/qt-5/qvariant.html#QVariantMap-typedef">QVariantMap</a> m_metadata</h3>
<p>Map for storing metadata. It is a <a href="http://doc.qt.io/qt-5/QString.html">QString</a>, <a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a> key value pairing.</p>
<hr />
<h2 id="constructors">Constructors</h2>
<h3 id="file_1">File()</h3>
<p>Default constructor. Sets <a href="#bool-fte">FTE</a> to false.</p>
<h3 id="fileconst-qstring-file">File(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;file)</h3>
<p>Initializes the file by calling the private function init.</p>
<h3 id="fileconst-qstring-file-const-qvariant-label">File(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;file, const <a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;label)</h3>
<p>Initializes the file by calling the private function init. Append label to the <a href="#qvariantmap-m_metadata">metadata</a> using the key "Label".</p>
<h3 id="fileconst-char-42file">File(const char *file)</h3>
<p>Initializes the file with a c-style string.</p>
<h3 id="fileconst-qvariantmap-metadata">File(const <a href="http://doc.qt.io/qt-5/qvariant.html#QVariantMap-typedef">QVariantMap</a> &amp;metadata)</h3>
<p>Sets <a href="#bool-fte">FTE</a> to false and sets the <a href="#qvariantmap-m_metadata">file metadata</a> to metadata.</p>
<hr />
<h2 id="static-functions">Static Functions</h2>
<h3 id="static-qvariant-parseqstring-value-const">static <a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a> parse(<a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;value) const</h3>
<p>Try to convert value to a <a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a>, <a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>, int or float. If a conversion is possible it returns the converted value, otherwise it returns the unconverted string.</p>
<pre><code>QString point = "(1, 1)";
QString rect = "(1, 1, 5, 5)";
QString integer = "1";
QString fp = "1.0";
QString string = "Hello World";

File::parse(point);   // returns QVariant(QPointF, QPointF(1, 1))
File::parse(rect);    // returns QVariant(QRectF, QRectF(1, 1, 5x5))
File::parse(integer); // returns QVariant(int, 1)
File::parse(fp);      // returns QVariant(float, 1.0f)
File::parse(string);  // returns QVariant(QString, "Hello World")
</code></pre>
<h3 id="static-qlistqvariant-valuesconst-qlistu-filelist-const-qstring-key">static <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a>&gt; values(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;U&gt; &amp;fileList, const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key)</h3>
<p>This function requires a type specification in place of U. Valid types are <a href="#file">File</a> and <a href="http://doc.qt.io/qt-5/QString.html">QString</a>. Returns a list of the values of the key in each of the given files.</p>
<pre><code>File f1, f2;
f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f1.set("Key2", QVariant::fromValue&lt;float&gt;(2));
f2.set("Key1", QVariant::fromValue&lt;float&gt;(3));

File::values&lt;File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key1"); // returns [QVariant(float, 1),
                                                       //          QVariant(float, 3)]
</code></pre>
<h3 id="static-qlistt-getconst-qlistu-filelist-const-qstring-key">static <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; get(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;U&gt; &amp;fileList, const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key)</h3>
<p>This function requires a type specification in place of T and U. Valid types for U are <a href="#file">File</a> and <a href="http://doc.qt.io/qt-5/QString.html">QString</a>. T can be any type. Returns a list of the values of the key in each of the given files. If the key doesn't exist in any of the files or the value cannot be converted to type T an error is thrown.</p>
<pre><code>File f1, f2;
f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f1.set("Key2", QVariant::fromValue&lt;float&gt;(2));
f2.set("Key1", QVariant::fromValue&lt;float&gt;(3));

File::get&lt;float, File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key1");  // returns [1., 3.]
File::get&lt;float, File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key2");  // Error: Key doesn't exist in f2
File::get&lt;QRectF, File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key1"); // Error: float is not convertable to QRectF
</code></pre>
<h3 id="static-qlistt-getconst-qlistu-filelist-const-qstring-key-const-t-defaultvalue">static <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; get(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;U&gt; &amp;fileList, const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, const T &amp;defaultValue)</h3>
<p>This function requires a type specification in place of T and U. Valid types for U are <a href="#file">File</a> and <a href="http://doc.qt.io/qt-5/QString.html">QString</a>. T can be any type. Returns a list of the values of the key in each of the given files. If the key doesn't exist in any of the files or the value cannot be converted to type T the given defaultValue is returned.</p>
<pre><code>File f1, f2;
f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f1.set("Key2", QVariant::fromValue&lt;float&gt;(2));
f2.set("Key1", QVariant::fromValue&lt;float&gt;(3));

File::get&lt;float, File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key1");                       // returns [1., 3.]
File::get&lt;float, File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key2", QList&lt;float&gt;() &lt;&lt; 1);  // returns [1.]
File::get&lt;QRectF, File&gt;(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2, "Key1, QList&lt;QRectF&gt;()");     // returns []
</code></pre>
<h3 id="qdebug-operator-qdebug-dbg-const-file-file"><a href="http://doc.qt.io/qt-5/qdebug.html">QDebug</a> operator &lt;&lt;(<a href="http://doc.qt.io/qt-5/qdebug.html">QDebug</a> dbg, const <a href="#file">File</a> &amp;file)</h3>
<p>Calls <a href="#qstring-flat-const">flat</a> on the given file and that streams that file to stderr.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.set("Key", QString("Value"));

qDebug() &lt;&lt; file; // "../path/to/pictures/picture.jpg[Key=Value]" streams to stderr
</code></pre>
<h3 id="qdatastream-operator-qdatastream-stream-const-file-file"><a href="http://doc.qt.io/qt-5/qdatastream.html">QDataStream</a> &amp;operator &lt;&lt;(<a href="http://doc.qt.io/qt-5/qdatastream.html">QDataStream</a> &amp;stream, const <a href="#file">File</a> &amp;file)</h3>
<p>Serialize a file to a data stream.</p>
<pre><code>void store(QDataStream &amp;stream)
{
    File file("../path/to/pictures/picture.jpg");
    file.set("Key", QString("Value"));

    stream &lt;&lt; file; // "../path/to/pictures/picture.jpg[Key=Value]" serialized to the stream
}
</code></pre>
<h3 id="qdatastream-operator-qdatastream-stream-file-file"><a href="http://doc.qt.io/qt-5/qdatastream.html">QDataStream</a> &amp;operator &gt;&gt;(<a href="http://doc.qt.io/qt-5/qdatastream.html">QDataStream</a> &amp;stream, <a href="#file">File</a> &amp;file)</h3>
<p>Deserialize a file from a data stream.</p>
<pre><code>void load(QDataStream &amp;stream)
{
    File in("../path/to/pictures/picture.jpg");
    in.set("Key", QString("Value"));

    stream &lt;&lt; in; // "../path/to/pictures/picture.jpg[Key=Value]" serialized to the stream

    File out;
    stream &gt;&gt; out;

    out.name; // returns "../path/to/pictures/picture.jpg"
    out.flat(); // returns "../path/to/pictures/picture.jpg[Key=Value]"
}
</code></pre>
<hr />
<h2 id="functions">Functions</h2>
<h3 id="operator-qstring-const">Operator <a href="http://doc.qt.io/qt-5/QString.html">QString</a>() const</h3>
<p>returns <a href="#qstring-name">name</a>. Allows Files to be used as <a href="http://doc.qt.io/qt-5/QString.html">QString</a>.</p>
<h3 id="qstring-flat-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> flat() const</h3>
<p>Returns the <a href="#qstring-name">name</a> and <a href="#qvariantmap-m_metadata">metadata</a> as string.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));
file.set("Key2", QVariant::fromValue&lt;float&gt;(2));

file.flat(); // returns "../path/to/pictures/picture.jpg[Key1=1,Key2=2]"
</code></pre>
<h3 id="qstring-hash-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> hash() const</h3>
<p>Returns a hash of the file.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));
file.set("Key2", QVariant::fromValue&lt;float&gt;(2));

file.hash(); // returns "kElVwY"
</code></pre>
<h3 id="qstringlist-localkeys-const"><a href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a> localKeys() const</h3>
<p>Returns an immutable version of the local metadata keys gotten by calling <a href="#metadata">metadata</a>.keys().</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));
file.set("Key2", QVariant::fromValue&lt;float&gt;(2));

file.localKeys(); // returns [Key1, Key2]
</code></pre>
<h3 id="qvariantmap-localmetadata-const"><a href="http://doc.qt.io/qt-5/qvariant.html#QVariantMap-typedef">QVariantMap</a> localMetadata() const</h3>
<p>returns an immutable version of the local <a href="#qvariantmap-m_metadata">metadata</a>.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));
file.set("Key2", QVariant::fromValue&lt;float&gt;(2));

file.localMetadata(); // return QMap(("Key1", QVariant(float, 1)) ("Key2", QVariant(float, 2)))
</code></pre>
<h3 id="void-appendqvariantmap-localmetadata">void append(<a href="http://doc.qt.io/qt-5/qvariant.html#QVariantMap-typedef">QVariantMap</a> &amp;localMetadata)</h3>
<p>Add new metadata fields to <a href="#qvariantmap-m_metadata">metadata</a>.</p>
<pre><code>File f();
f.set("Key1", QVariant::fromValue&lt;float&gt;(1));

QVariantMap map;
map.insert("Key2", QVariant::fromValue&lt;float&gt;(2));
map.insert("Key3", QVariant::fromValue&lt;float&gt;(3));

f.append(map);
f.flat(); // returns "[Key1=1, Key2=2, Key3=3]"
</code></pre>
<h3 id="void-appendconst-file-other">void append(const <a href="#file">File</a> &amp;other)</h3>
<p>Append another file using the <strong>;</strong> separator. The file names are combined with the separator in between them. The metadata fields are combined. An additional field describing the separator is appended to the metadata.</p>
<pre><code>File f1("../path/to/pictures/picture1.jpg");
f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));

File f2("../path/to/pictures/picture2.jpg");
f2.set("Key2", QVariant::fromValue&lt;float&gt;(2));
f2.set("Key3", QVariant::fromValue&lt;float&gt;(3));

f1.append(f2);
f1.name; // return "../path/to/pictures/picture1.jpg;../path/to/pictures/picture2.jpg"
f1.localKeys(); // returns "[Key1, Key2, Key3, separator]"
</code></pre>
<h3 id="file-operator-const-qmapqstring-qvariant-other"><a href="#file">File</a> &amp;operator +=(const <a href="http://doc.qt.io/qt-5/qmap.html">QMap</a>&lt;<a href="http://doc.qt.io/qt-5/QString.html">QString</a>, <a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a>&gt; &amp;other)</h3>
<p>Shortcut operator to call <a href="#void-appendqvariantmap-localmetadata">append</a>.</p>
<h3 id="file-operator-const-file-other"><a href="#file">File</a> &amp;operator +=(const <a href="#file">File</a> &amp;other)</h3>
<p>Shortcut operator to call <a href="#void-appendconst-file-other">append</a>.</p>
<h3 id="qlistfile-split-const"><a href="http://doc.qt.io/qt-5/qlist.html">QList</a>&lt;<a href="#file">File</a>&gt; split() const</h3>
<p>Parse <a href="#qstring-name">name</a> and split on the <strong>;</strong> separator. Each split file has the same <a href="#qvariantmap-m_metadata">metadata</a> as the joined file.</p>
<pre><code>File f1("../path/to/pictures/picture1.jpg");
f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));

f1.split(); // returns [../path/to/pictures/picture1.jpg[Key1=1]]

File f2("../path/to/pictures/picture2.jpg");
f2.set("Key2", QVariant::fromValue&lt;float&gt;(2));
f2.set("Key3", QVariant::fromValue&lt;float&gt;(3));

f1.append(f2);
f1.split(); // returns [../path/to/pictures/picture1.jpg[Key1=1, Key2=2, Key3=3, separator=;],
                //          ../path/to/pictures/picture2.jpg[Key1=1, Key2=2, Key3=3, separator=;]]
</code></pre>
<h3 id="qlistfile-splitconst-qstring-separator-const"><a href="http://doc.qt.io/qt-5/qlist.html">QList</a>&lt;<a href="#file">File</a>&gt; split(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;separator) const</h3>
<p>Split the file on the given separator. Each split file has the same <a href="#qvariantmap-m_metadata">metadata</a> as the joined file.</p>
<pre><code>File f("../path/to/pictures/picture1.jpg,../path/to/pictures/picture2.jpg");
f.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f.set("Key2", QVariant::fromValue&lt;float&gt;(2));

f.split(","); // returns [../path/to/pictures/picture1.jpg[Key1=1, Key2=2],
                          ../path/to/pictures/picture2.jpg[Key1=1, Key2=2]]
</code></pre>
<h3 id="void-setparameterint-index-const-qvariant-value">void setParameter(int index, const <a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;value)</h3>
<p>Insert a keyless value into the <a href="#qvariantmap-m_metadata">metadata</a>.</p>
<pre><code>File f;
f.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f.set("Key2", QVariant::fromValue&lt;float&gt;(2));

f.setParameter(1, QVariant::fromValue&lt;float&gt;(3));
f.setParameter(5, QVariant::fromValue&lt;float&gt;(4));

f.flat(); // returns "[Key1=1, Key2=2, Arg1=3, Arg5=4]"
</code></pre>
<h3 id="bool-operator-const-char-42other-const">bool operator ==(const char *other) const</h3>
<p>Compare <a href="#qstring-name">name</a> to c-style string other.</p>
<pre><code>File f("picture.jpg");

f == "picture.jpg";       // returns true
f == "other_picture.jpg"; // returns false
</code></pre>
<h3 id="bool-operator-const-file-other-const">bool operator ==(const <a href="#file">File</a> &amp;other) const</h3>
<p>Compare <a href="#qstring-name">name</a> and <a href="#qvariantmap-m_metadata">metadata</a> to another file name and metadata for equality.</p>
<pre><code>File f1("picture1.jpg");
File f2("picture1.jpg");

f1 == f2; // returns true

f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f2.set("Key2", QVariant::fromValue&lt;float&gt;(2));

f1 == f2; // returns false (metadata doesn't match)
</code></pre>
<h3 id="bool-operator-const-file-other-const_1">bool operator !=(const <a href="#file">File</a> &amp;other) const</h3>
<p>Compare <a href="#qstring-name">name</a> and <a href="#qvariantmap-m_metadata">metadata</a> to another file name and metadata for inequality.</p>
<pre><code>File f1("picture1.jpg");
File f2("picture1.jpg");

f1 != f2; // returns false

f1.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f2.set("Key2", QVariant::fromValue&lt;float&gt;(2));

f1 != f2; // returns true (metadata doesn't match)
</code></pre>
<h3 id="bool-operator-const-file-other-const_2">bool operator &lt;(const <a href="#file">File</a> &amp;other) const</h3>
<p>Compare <a href="#qstring-name">name</a> to a different file name.</p>
<h3 id="bool-operator-const-file-other-const_3">bool operator &lt;=(const <a href="#file">File</a> &amp;other) const</h3>
<p>Compare <a href="#qstring-name">name</a> to a different file name.</p>
<h3 id="bool-operator-const-file-other-const_4">bool operator &gt;(const <a href="#file">File</a> &amp;other) const</h3>
<p>Compare <a href="#qstring-name">name</a> to a different file name.</p>
<h3 id="bool-operator-const-file-other-const_5">bool operator &gt;=(const <a href="#file">File</a> &amp;other) const</h3>
<p>Compare <a href="#qstring-name">name</a> to a different file name.</p>
<h3 id="bool-isnull-const">bool isNull() const</h3>
<p>Returns true if <a href="#qstring-name">name</a> and <a href="#qvariantmap-m_metadata">metadata</a> are empty and false otherwise.</p>
<pre><code>File f;
f.isNull(); // returns true

f.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f.isNull(); // returns false
</code></pre>
<h3 id="bool-isterminal-const">bool isTerminal() const</h3>
<p>Returns true if <a href="#qstring-name">name</a> equals "Terminal".</p>
<h3 id="bool-exists-const">bool exists() const</h3>
<p>Returns true if the file at <a href="#qstring-name">name</a> exists on disk.</p>
<h3 id="qstring-filename-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> fileName() const</h3>
<p>Returns the file's base name and extension.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.fileName(); // returns "picture.jpg"
</code></pre>
<h3 id="qstring-basename-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> baseName() const</h3>
<p>Returns the file's base name.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.baseName(); // returns "picture"
</code></pre>
<h3 id="qstring-suffix-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> suffix() const</h3>
<p>Returns the file's extension.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.suffix(); // returns "jpg"
</code></pre>
<h3 id="qstring-path-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> path() const</h3>
<p>Return's the path of the file, excluding the name.</p>
<pre><code>File file("../path/to/pictures/picture.jpg");
file.suffix(); // returns "../path/to/pictures"
</code></pre>
<h3 id="qstring-resolved-const"><a href="http://doc.qt.io/qt-5/QString.html">QString</a> resolved() const</h3>
<p>Returns <a href="#qstring-name">name</a>. If name does not exist it prepends name with the path in Globals-&gt;path.</p>
<h3 id="bool-containsconst-qstring-key-const">bool contains(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key) const</h3>
<p>Returns True if the key is in the <a href="#qvariantmap-m_metadata">metadata</a> and False otherwise.</p>
<pre><code>File file;
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));

file.contains("Key1"); // returns true
file.contains("Key2"); // returns false
</code></pre>
<h3 id="bool-containsconst-qstringlist-keys-const">bool contains(const <a href="http://doc.qt.io/qt-4.8/qstringlist.html">QStringList</a> &amp;keys) const</h3>
<p>Returns True if all of the keys are in the <a href="#qvariantmap-m_metadata">metadata</a> and False otherwise.</p>
<pre><code>File file;
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));
file.set("Key2", QVariant::fromValue&lt;float&gt;(2));

file.contains(QStringList("Key1")); // returns true
file.contains(QStringList() &lt;&lt; "Key1" &lt;&lt; "Key2") // returns true
file.contains(QStringList() &lt;&lt; "Key1" &lt;&lt; "Key3"); // returns false
</code></pre>
<h3 id="qvariant-valueconst-qstring-key-const"><a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a> value(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key) const</h3>
<p>Returns the value associated with key in the <a href="#qvariantmap-m_metadata">metadata</a>.</p>
<pre><code>File file;
file.set("Key1", QVariant::fromValue&lt;float&gt;(1));
file.value("Key1"); // returns QVariant(float, 1)
</code></pre>
<h3 id="void-setconst-qstring-key-const-qvariant-value">void set(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, const <a href="http://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;value)</h3>
<p>Insert or overwrite the <a href="#qvariantmap-m_metadata">metadata</a> key with the given value.</p>
<pre><code>File f;
f.flat(); // returns ""

f.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f.flat(); // returns "[Key1=1]"
</code></pre>
<h3 id="void-setconst-qstring-key-const-qstring-value">void set(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;value)</h3>
<p>Insert or overwrite the <a href="#qvariantmap-m_metadata">metadata</a> key with the given value.</p>
<pre><code>File f;
f.flat(); // returns ""

f.set("Key1", QString("1"));
f.flat(); // returns "[Key1=1]"
</code></pre>
<h3 id="void-setlistconst-qstring-key-const-qlistt-value">void setList(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, const <a href="http://doc.qt.io/qt-5/qlist.html">QList</a>&lt;T&gt; &amp;value)</h3>
<p>This function requires a type specification in place of T. Insert or overwrite the <a href="#qvariantmap-m_metadata">metadata</a> key with the value. The value will remain a list and should be queried with the function <a href="#qlistt-getlistconst-qstring-key-const">getList</a>.</p>
<pre><code>File file;

QList&lt;float&gt; list = QList&lt;float&gt;() &lt;&lt; 1 &lt;&lt; 2 &lt;&lt; 3;
file.setList&lt;float&gt;("List", list);
file.getList&lt;float&gt;("List"); // return [1., 2. 3.]
</code></pre>
<h3 id="void-removeconst-qstring-key">void remove(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key)</h3>
<p>Remove the key value pair associated with the given key from the <a href="#metadata">metadata</a></p>
<pre><code>File f;
f.set("Key1", QVariant::fromValue&lt;float&gt;(1));
f.set("Key2", QVariant::fromValue&lt;float&gt;(2));

f.flat(); // returns "[Key1=1, Key2=2]"

f.remove("Key1");
f.flat(); // returns "[Key2=2]"
</code></pre>
<h3 id="t-getconst-qstring-key">T get(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key)</h3>
<p>This function requires a type specification in place of T. Try and get the value associated with the given key in the <a href="#qvariantmap-m_metadata">metadata</a>. If the key does not exist or cannot be converted to the given type an error is thrown.</p>
<pre><code>File f;
f.set("Key1", QVariant::fromValue&lt;float&gt;(1));

f.get&lt;float&gt;("Key1");  // returns 1
f.get&lt;float&gt;("Key2");  // Error: Key2 is not in the metadata
f.get&lt;QRectF&gt;("Key1"); // Error: A float can't be converted to a QRectF
</code></pre>
<h3 id="t-getconst-qstring-key-const-t-defaultvalue">T get(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, const T &amp;defaultValue)</h3>
<p>This function requires a type specification in place of T. Try and get the value associated with the given key in the <a href="#qvariantmap-m_metadata">metadata</a>. If the key does not exist or cannot be converted to the given type the defaultValue is returned.</p>
<pre><code>File f;
f.set("Key1", QVariant::fromValue&lt;float&gt;(1));

f.get&lt;float&gt;("Key1", 5);  // returns 1
f.get&lt;float&gt;("Key2", 5);  // returns 5
f.get&lt;QRectF&gt;("Key1", QRectF(0, 0, 10, 10)); // returns QRectF(0, 0, 10x10)
</code></pre>
<h3 id="bool-getboolconst-qstring-key-bool-defaultvalue-false">bool getBool(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, bool defaultValue = false)</h3>
<p>This is a specialization of <a href="#t-getconst-qstring-key">get</a> for the boolean type. If the key is not in the <a href="#qvariantmap-m_metadata">metadata</a> the defaultValue is returned. If the key is in the metadata but the value cannot be converted to a bool <strong>true</strong> is returned. If the key is found and the value can be converted to a bool the value is returned.</p>
<pre><code>File f;
f.set("Key1", QVariant::fromValue&lt;bool&gt;(true));
f.set("Key2", QVariant::fromValue&lt;float&gt;(10));

f.getBool("Key1");       // returns true
f.getBool("Key2")        // returns true (key found)
f.getBool("Key3");       // returns false (default value)
f.getBool("Key3", true); // returns true (default value)
</code></pre>
<h3 id="qlistt-getlistconst-qstring-key-const"><a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; getList(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key) const</h3>
<p>This function requires a type specification in place of T. Similar to <a href="#t-getconst-qstring-key">get</a> only this returns a list. If the key is not found or the value cannot be converted into a <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; an error is thrown.</p>
<pre><code>File file;

QList&lt;float&gt; list = QList&lt;float&gt;() &lt;&lt; 1 &lt;&lt; 2 &lt;&lt; 3;
file.setList&lt;float&gt;("List", list);

file.getList&lt;float&gt;("List");  // return [1., 2. 3.]
file.getList&lt;QRectF&gt;("List"); // Error: float cannot be converted to QRectF
file.getList&lt;float&gt;("Key");   // Error: key doesn't exist
</code></pre>
<h3 id="qlistt-getlistconst-qstring-key-const-qlistt-defaultvalue-const"><a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; getList(const <a href="http://doc.qt.io/qt-5/QString.html">QString</a> &amp;key, const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; &amp;defaultValue) const</h3>
<p>This function requires a type specification in place of T. Similar to <a href="#t-getconst-qstring-key-const-t-defaultvalue">get</a> only this returns a list. If the key is not found or the value cannot be converted into a <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;T&gt; the supplied defaultValue is returned.</p>
<pre><code>File file;

QList&lt;float&gt; list = QList&lt;float&gt;() &lt;&lt; 1 &lt;&lt; 2 &lt;&lt; 3;
file.setList&lt;float&gt;("List", list);

file.getList&lt;float&gt;("List", QList&lt;float&gt;());                  // return [1., 2. 3.]
file.getList&lt;QRectF&gt;("List", QList&lt;QRectF&gt;());                // return []
file.getList&lt;float&gt;("Key", QList&lt;float&gt;() &lt;&lt; 1 &lt;&lt; 2 &lt;&lt; 3);    // return [1., 2., 3.]
</code></pre>
<h3 id="qlistqpointf-namedpoints-const"><a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a>&gt; namedPoints() const</h3>
<p>Find all of the points that can be parsed from <a href="#qvariantmap-m_metadata">metadata</a> keys and return them. Only values that are convertable to <a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a> are found. Values that can be converted to <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&gt;&lt;<a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a>&gt; are not included.</p>
<pre><code>File file;
file.set("Key1", QVariant::fromValue&lt;QPointF&gt;(QPointF(1, 1)));
file.set("Key2", QVariant::fromValue&lt;QPointF&gt;(QPointF(2, 2)));
file.set("Points", QVariant::fromValue&lt;QPointF&gt;(QPointF(3, 3)))

f.namedPoints(); // returns [QPointF(1, 1), QPointF(2, 2), QPointF(3, 3)]

file.setPoints(QList&lt;QPointF&gt;() &lt;&lt; QPointF(3, 3)); // changes metadata["Points"] to QList&lt;QPointF&gt;
f.namedPoints(); // returns [QPointF(1, 1), QPointF(2, 2)]
</code></pre>
<h3 id="qlistqpointf-points-const"><a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointf</a>&gt;&gt; points() const</h3>
<p>Returns the list of points stored in <a href="#qvariantmap-m_metadata">metadata</a>["Points"]. A list is expected and a single point not in a list will not be returned. Convenience functions <a href="#void-appendpointconst-qpointf-point">appendPoint</a>, <a href="#void-appendpointsconst-qlistqpointf-points">appendPoints</a>, <a href="#void-clearpoints">clearPoints</a> and <a href="#void-setpointsconst-qlistqpointf-points">setPoints</a> have been provided to manipulate the internal points list.</p>
<pre><code>File file;
file.set("Points", QVariant::fromValue&lt;QPointF&gt;(QPointF(1, 1)));
file.points(); // returns [] (point is not in a list)

file.setPoints(QList&lt;QPointF&gt;() &lt;&lt; QPointF(2, 2));
file.points(); // returns [QPointF(2, 2)]
</code></pre>
<h3 id="void-appendpointconst-qpointf-point">void appendPoint(const <a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a> &amp;point)</h3>
<p>Add a point to the file's points list stored in <a href="#qvariantmap-m_metadata">metadata</a>["Points"]</p>
<pre><code>File file;
file.points(); // returns []

file.appendPoint(QPointF(1, 1));
file.points(); // returns [QPointF(1, 1)]
</code></pre>
<h3 id="void-appendpointsconst-qlistqpointf-points">void appendPoints(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a>&gt; &amp;points)</h3>
<p>Add a list of points to the file's points list stored in <a href="#qvariantmap-m_metadata">metadata</a>["Points"]</p>
<pre><code>File file;
file.points(); // returns []

file.appendPoints(QList&lt;QPointF&gt;() &lt;&lt; QPointF(1, 1) &lt;&lt; QPointF(2, 2));
file.points(); // returns [QPointF(1, 1), QPointF(2, 2)]
</code></pre>
<h3 id="void-clearpoints">void clearPoints()</h3>
<p>Clear the list of points stored in <a href="#qvariantmap-m_metadata">metadata</a>["Points"].</p>
<pre><code>File file;
file.appendPoints(QList&lt;QPointF&gt;() &lt;&lt; QPointF(1, 1) &lt;&lt; QPointF(2, 2));
file.points(); // returns [QPointF(1, 1), QPointF(2, 2)]

file.clearPoints();
file.points(); // returns []
</code></pre>
<h3 id="void-setpointsconst-qlistqpointf-points">void setPoints(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qpointf.html">QPointF</a>&gt; &amp;points)</h3>
<p>Clears the points stored in <a href="#qvariantmap-m_metadata">metadata</a> and replaces them with points.</p>
<pre><code>File file;
file.appendPoints(QList&lt;QPointF&gt;() &lt;&lt; QPointF(1, 1) &lt;&lt; QPointF(2, 2));
file.points(); // returns [QPointF(1, 1), QPointF(2, 2)]

file.setPoints(QList&lt;QPointF&gt;() &lt;&lt; QPointF(3, 3) &lt;&lt; QPointF(4, 4));
file.points(); // returns [QPointF(3, 3), QPointF(4, 4)]
</code></pre>
<h3 id="qlistqrectf-namedrects-const"><a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>&gt; namedRects() const</h3>
<p>Find all of the rects that can be parsed from <a href="#qvariantmap-m_metadata">metadata</a> keys and return them. Only values that are convertable to <a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a> are found. Values that can be converted to <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>&gt; are not included.</p>
<pre><code>File file;
file.set("Key1", QVariant::fromValue&lt;QRectF&gt;(QRectF(1, 1, 5, 5)));
file.set("Key2", QVariant::fromValue&lt;QRectF&gt;(QRectF(2, 2, 5, 5)));
file.set("Rects", QVariant::fromValue&lt;QRectF&gt;(QRectF(3, 3, 5, 5)));

f.namedRects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5), QRectF(3, 3, 5x5)]

file.setRects(QList&lt;QRectF&gt;() &lt;&lt; QRectF(3, 3, 5x5)); // changes metadata["Rects"] to QList&lt;QRectF&gt;
f.namedRects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5)]
</code></pre>
<h3 id="qlistqrectf-rects-const"><a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>&gt; rects() const</h3>
<p>Returns the list of points stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"]. A list is expected and a single rect not in a list will not be returned. Convenience functions <a href="#void-appendrectconst-qrectf-rect">appendRect</a>, <a href="#void-appendrectsconst-qlistqrectf-rects">appendRects</a>, <a href="#void-clearrects">clearRects</a> and <a href="#void-setrectsconst-qlistqrectf-rects">setRects</a> have been provided to manipulate the internal points list.</p>
<pre><code>File file;
file.set("Rects", QVariant::fromValue&lt;QRectF&gt;(QRectF(1, 1, 5, 5)));
file.rects(); // returns [] (rect is not in a list)

file.setRects(QList&lt;QRectF&gt;() &lt;&lt; QRectF(2, 2, 5, 5));
file.rects(); // returns [QRectF(2, 2, 5x5)]
</code></pre>
<h3 id="void-appendrectconst-qrectf-rect">void appendRect(const <a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a> &amp;rect)</h3>
<p>Add a rect to the file's rects list stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"].</p>
<pre><code>File file;
file.rects(); // returns []

file.appendRect(QRectF(1, 1, 5, 5));
file.rects(); // returns [QRectF(1, 1, 5x5)]
</code></pre>
<h3 id="void-appendrectconst-rect-rect">void appendRect(const <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#rect">Rect</a> &amp;rect)</h3>
<p>Add a OpenCV style rect to the file's rects list stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"]. The rect is automatically converted to a QRectF.</p>
<pre><code>File file;
file.rects(); // returns []

file.appendRect(cv::Rect(1, 1, 5, 5)); // automatically converted to QRectF
file.rects(); // returns [QRectF(1, 1, 5x5)]
</code></pre>
<h3 id="void-appendrectsconst-qlistqrectf-rects">void appendRects(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>&gt; &amp;rects)</h3>
<p>Add a list of rects to the file's rects list stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"]</p>
<pre><code>File file;
file.rects(); // returns []

file.appendRects(QList&lt;QRectF&gt;() &lt;&lt; QRectF(1, 1, 5, 5) &lt;&lt; QRectF(2, 2, 5, 5));
file.rects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5)]
</code></pre>
<h3 id="void-appendrectsconst-qlistrect-rects">void appendRects(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#rect">Rect</a>&gt; &amp;rects)</h3>
<p>Add a list of OpenCV style rects to the file's rects list stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"]. Each rect is automatically converted to a QRectF.</p>
<pre><code>File file;
file.rects(); // returns []

file.appendRects(QList&lt;cv::Rect&gt;() &lt;&lt; cv::Rect(1, 1, 5, 5) &lt;&lt; cv::Rect(2, 2, 5, 5));
file.rects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5)]
</code></pre>
<h3 id="void-clearrects">void clearRects()</h3>
<p>Clear the list of rects stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"].</p>
<pre><code>File file;
file.appendRects(QList&lt;QRectF&gt;() &lt;&lt; QRectF(1, 1, 5, 5) &lt;&lt; QRectF(2, 2, 5, 5));
file.rects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5)]

file.clearRects();
file.rects(); // returns []
</code></pre>
<h3 id="void-setrectsconst-qlistqrectf-rects">void setRects(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://doc.qt.io/qt-4.8/qrectf.html">QRectF</a>&gt; &amp;rects)</h3>
<p>Clears the rects stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"] and replaces them with the given rects.</p>
<pre><code>File file;
file.appendRects(QList&lt;QRectF&gt;() &lt;&lt; QRectF(1, 1, 5, 5) &lt;&lt; QRectF(2, 2, 5, 5));
file.rects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5)]

file.setRects(QList&lt;QRectF&gt;() &lt;&lt; QRectF(3, 3, 5, 5) &lt;&lt; QRectF(4, 4, 5, 5));
file.rects(); // returns [QRectF(3, 3, 5x5), QRectF(4, 4, 5x5)]
</code></pre>
<h3 id="void-setrectsconst-qlistrect-rects">void setRects(const <a href="http://doc.qt.io/qt-5/QList.html">QList</a>&lt;<a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#rect">Rect</a>&gt; &amp;rects)</h3>
<p>Clears the rects stored in <a href="#qvariantmap-m_metadata">metadata</a>["Rects"] and replaces them with the given OpenCV style rects.</p>
<pre><code>File file;
file.appendRects(QList&lt;cv::Rect&gt;() &lt;&lt; cv::Rect(1, 1, 5, 5) &lt;&lt; cv::Rect(2, 2, 5, 5));
file.rects(); // returns [QRectF(1, 1, 5x5), QRectF(2, 2, 5x5)]

file.setRects(QList&lt;cv::Rect&gt;() &lt;&lt; cv::Rect(3, 3, 5, 5) &lt;&lt; cv::Rect(4, 4, 5, 5));
file.rects(); // returns [QRectF(3, 3, 5x5), QRectF(4, 4, 5x5)]
</code></pre>
<hr />
<h1 id="filelist">FileList</h1>
<p>Inherits <a href="http://doc.qt.io/qt-4.8/qlist.html">QList</a>&lt;<a href="#file">File</a>&gt;.</p>
<p>A convenience class for dealing with lists of files.</p>
<h2 id="constructors_1">Constructors</h2>
<h3 id="filelist_1">FileList()</h3>
<p>Default constructor. Doesn't do anything</p>
<h3 id="filelistint-n">FileList(int n)</h3>
<p>Initialize the <a href="#filelist">FileList</a> with n empty files</p>
<h3 id="filelistconst-qstringlist-files">FileList(const <a href="http://doc.qt.io/qt-4.8/qstringlist.html">QStringList</a> &amp;files)</h3>
<p>Initialize the <a href="#filelist">FileList</a> from a list of strings. Each string should have the format "filename[key1=value1, key2=value2, ... keyN=valueN]"</p>
<h3 id="filelistconst-qlistfile-files">FileList(const <a href="http://doc.qt.io/qt-4.8/qlist.html">QList</a>&lt;<a href="#file">File</a>&gt; &amp;files)</h3>
<p>Initialize the <a href="#filelist">FileList</a> from a list of <a href="#file">files</a>.</p>
<hr />
<h2 id="static-functions_1">Static Functions</h2>
<h3 id="static-filelist-fromgalleryconst-file-gallery-bool-cache-false">static FileList fromGallery(const <a href="#file">File</a> &amp;gallery, bool cache = false)</h3>
<p>Creates a <a href="#filelist">FileList</a> from a <a href="#gallery">Gallery</a>. Galleries store one or more <a href="#template">Templates</a> on disk. Common formats include csv, xml, and gal, which is a unique OpenBR format. Read more about this in the <a href="#gallery">Gallery</a> section. This function creates a <a href="#filelist">FileList</a> by parsing the stored gallery based on its format. Cache determines whether the gallery should be stored for faster reading later.</p>
<pre><code>File gallery("gallery.csv");

FileList fList = FileList::fromGallery(gallery);
fList.flat(); // returns all the files that have been loaded from disk. It could
              // be 1 or 100 depending on what was stored.
</code></pre>
<hr />
<h2 id="functions_1">Functions</h2>
<h3 id="qstringlist-flat-const"><a href="http://doc.qt.io/qt-4.8/qstringlist.html">QStringList</a> flat() const</h3>
<p>Calls <a href="#qstring-flat-const">flat</a> on every <a href="#file">File</a> in the list and returns the resulting strings as a <a href="http://doc.qt.io/qt-4.8/qstringlist.html">QStringList</a>.</p>
<pre><code>File f1("picture1.jpg"), f2("picture2.jpg");
f1.set("Key", QString("Value"));

FileList fList(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2);
fList.flat(); // returns ["picture1.jpg[Key=Value]", "picture2.jpg"]
</code></pre>
<h3 id="qstringlist-names-const"><a href="http://doc.qt.io/qt-4.8/qstringlist.html">QStringList</a> names() const</h3>
<p>Stores the name of every <a href="#file">file</a> in the list and returns the resulting strings as a <a href="http://doc.qt.io/qt-4.8/qstringlist.html">QStringList</a>.</p>
<pre><code>File f1("picture1.jpg"), f2("picture2.jpg");
f1.set("Key", QString("Value"));

FileList fList(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2);
fList.names(); // returns ["picture1.jpg", "picture2.jpg"]
</code></pre>
<h3 id="void-sortconst-qstring-key">void sort(const <a href="http://doc.qt.io/qt-4.8/qstring.html">QString</a> &amp;key)</h3>
<p>Sorts the <a href="#filelist">FileList</a> based on the value associated with the given key in each file.</p>
<pre><code>File f1("1"), f2("2"), f3("3");
f1.set("Key", QVariant::fromValue&lt;float&gt;(3));
f2.set("Key", QVariant::fromValue&lt;float&gt;(1));
f3.set("Key", QVariant::fromValue&lt;float&gt;(2));

FileList fList(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2 &lt;&lt; f3);
fList.names(); // returns ["1", "2", "3"]

fList.sort("Key");
fList.names(); // returns ["2", "3", "1"]
</code></pre>
<h3 id="qlistint-crossvalidationpartitions-const"><a href="http://doc.qt.io/qt-4.8/qlist.html">QList</a>&lt;int&gt; crossValidationPartitions() const</h3>
<p>Returns the cross-validation partition (default=0) for each file in the list. The partition is stored with the <a href="#qvariantmap-m_metadata">metadata</a> key "Partition".</p>
<pre><code>File f1, f2, f3;
f1.set("Partition", QVariant::fromValue&lt;int&gt;(1));
f3.set("Partition", QVariant::fromValue&lt;int&gt;(3));

FileList fList(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2 &lt;&lt; f3);
fList.crossValidationPartitions(); // returns [1, 0, 3]
</code></pre>
<h3 id="int-failures-const">int failures() const</h3>
<p>Returns the number of files that have <a href="#bool-fte">FTE</a> = <strong>True</strong>.</p>
<pre><code>File f1, f2, f3;
f1.fte = false;
f2.fte = true;
f3.fte = true;

FileList fList(QList&lt;File&gt;() &lt;&lt; f1 &lt;&lt; f2 &lt;&lt; f3);
fList.failures(); // returns 2
</code></pre>
<hr />
<h1 id="template">Template</h1>
<p>Inherits <a href="http://doc.qt.io/qt-4.8/qlist.html">QList</a>&lt;<a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>&gt;.</p>
<p>A list of matrices associated with a file.</p>
<p>The Template is one of two important data structures in OpenBR (the <a href="#file">File</a> is the other).
A template represents a biometric at various stages of enrollment and can be modified by <a href="#transform">Transforms</a> and compared to other <a href="#template">templates</a> with <a href="#distance">Distance</a>.</p>
<p>While there exist many cases (ex. video enrollment, multiple face detects, per-patch subspace learning, ...) where the template will contain more than one matrix,
in most cases templates have exactly one matrix in their list representing a single image at various stages of enrollment.
In the cases where exactly one image is expected, the template provides the function m() as an idiom for treating it as a single matrix.
Casting operators are also provided to pass the template into image processing functions expecting matrices.</p>
<p>Metadata related to the template that is computed during enrollment (ex. bounding boxes, eye locations, quality metrics, ...) should be assigned to the template's <a href="#file-file">File</a> member.</p>
<h2 id="members_1">Members</h2>
<h3 id="file-file">File file</h3>
<p>The <a href="#file">File</a> that constructs the <a href="#template">template</a></p>
<hr />
<h2 id="constructors_2">Constructors</h2>
<h3 id="template_1">Template()</h3>
<p>The default template constructor. It doesn't do anything.</p>
<h3 id="templateconst-file-file">Template(const <a href="#file">File</a> &amp;file)</h3>
<p>Sets <a href="#file-file">file</a> to the given file.</p>
<h3 id="templateconst-file-file-const-mat-mat">Template(const <a href="#file">File</a> &amp;file, const <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;mat)</h3>
<p>Sets <a href="#file-file">file</a> to the given file and appends the given mat to itself.</p>
<h3 id="templateconst-file-file-const-qlistmatgt-mats">Template(const <a href="#file">File</a> &amp;file, const <a href="http://doc.qt.io/qt-4.8/qlist.html">QList</a>&lt;<a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>&amp;gt &amp;mats)</h3>
<p>Sets <a href="#file-file">file</a> to the given file and appends the given mats to itself.</p>
<h3 id="templateconst-mat-mat">Template(const <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;mat)</h3>
<p>Appends the given mat to itself.</p>
<hr />
<h2 id="static-functions_2">Static Functions</h2>
<p><a href="http://doc.qt.io/qt-4.8/qdatastream.html">QDataStream</a> &amp;operator &lt;&lt;(<a href="http://doc.qt.io/qt-4.8/qdatastream.html">QDataStream</a> &amp;stream, const <a href="#template">Template</a> &amp;t)</p>
<p>Serialize a template.</p>
<pre><code>void store(QDataStream &amp;stream)
{
    Template t("picture.jpg");
    t.append(Mat::ones(1, 1, CV_8U));

    stream &lt;&lt; t; // "["1"]picture.jpg" serialized to the stream
}
</code></pre>
<p><a href="http://doc.qt.io/qt-4.8/qdatastream.html">QDataStream</a> &amp;operator &gt;&gt;(<a href="http://doc.qt.io/qt-4.8/qdatastream.html">QDataStream</a> &amp;stream, const <a href="#template">Template</a> &amp;t)</p>
<p>Deserialize a template.</p>
<pre><code>void load(QDataStream &amp;stream)
{
    Template in("picture.jpg");
    in.append(Mat::ones(1, 1, CV_8U));

    stream &lt;&lt; in; // "["1"]picture.jpg" serialized to the stream

    Template out;
    stream &gt;&gt; out;

    out.file; // returns "picture.jpg"
    out; // returns ["1"]
}
</code></pre>
<hr />
<h2 id="functions_2">Functions</h2>
<h3 id="operator-const-file">operator const <a href="#file">File</a> &amp;()</h3>
<p>Idiom to treat the template like a <a href="#file">File</a>. Returns <a href="#file-file">file</a>.</p>
<h3 id="const-mat-m">const <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;m()</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. If the template is empty then an empty <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> is returned. If the list has multiple <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mats</a> the last is returned.</p>
<pre><code>Template t;
t.m(); // returns empty mat

Mat m1;
t.append(m1);
t.m(); // returns m1;

Mat m2;
t.append(m2);
t.m(); // returns m2;
</code></pre>
<h3 id="mat-m"><a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;m()</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. If the template is empty then an empty <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> is returned. If the list has multiple <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mats</a> the last is returned.</p>
<pre><code>Template t;
t.m(); // returns empty mat

Mat m1;
t.append(m1);
t.m(); // returns m1;

Mat m2;
t.append(m2);
t.m(); // returns m2;
</code></pre>
<h3 id="operator-const-mat">operator const <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;()</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. Makes a call to <a href="#mat-m">m()</a>.</p>
<h3 id="operator-mat">operator <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;()</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. Makes a call to <a href="#mat-m">m()</a>.</p>
<h3 id="operator-_inputarray">operator <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#inputarray">_InputArray</a> &amp;()</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. Makes a call to <a href="#mat-m">m()</a>.</p>
<h3 id="operator-_outputarray">operator <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#outputarray">_OutputArray</a> &amp;()</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. Makes a call to <a href="#mat-m">m()</a>.</p>
<h3 id="mat-operator-const-mat-other"><a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;operator =(const <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a> &amp;other)</h3>
<p>Idiom to treat the template like a <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#mat">Mat</a>. Sets other equal to <a href="#mat-m">m()</a>.</p>
<h3 id="bool-isnull-const_1">bool isNull() const</h3>
<p>Returns true if the template is empty or if <a href="#mat-m">m()</a> has no data.</p>
<pre><code>Template t;
t.isNull(); // returns true

t.append(Mat());
t.isNull(); // returns true

t.append(Mat::ones(1, 1, CV_8U));
t.isNull(); // returns false
</code></pre>
<h3 id="void-mergeconst-template-other">void merge(const <a href="#template">Template</a> &amp;other)</h3>
<p>Append the contents of another template. The <a href="#file-file">files</a> are appended using <a href="#void-append-const-file-other">append()</a>.</p>
<pre><code>Template t1("picture1.jpg"), t2("picture2.jpg");
Mat m1, m2;

t1.append(m1);
t2.append(m2);

t1.merge(t2);

t1.file; // returns picture1.jpg;picture2.jpg[seperator=;]
t1; // returns [m1, m2]
</code></pre>
<h3 id="size_t-bytes-const">size_t bytes() const</h3>
<p>Returns the total number of bytes in all of the matrices in the template.</p>
<pre><code>Template t;

Mat m1 = Mat::ones(1, 1, CV_8U); // 1 byte
Mat m2 = Mat::ones(2, 2, CV_8U); // 4 bytes
Mat m3 = Mat::ones(3, 3, CV_8U); // 9 bytes

t &lt;&lt; m1 &lt;&lt; m2 &lt;&lt; m3;

t.bytes(); // returns 14
</code></pre>
<h3 id="template-clone-const">Template clone() const</h3>
<p>Returns a new template with copies of the <a href="#file-file">file</a> and all of the matrices that were in the original.</p>
<pre><code>Template t1("picture.jpg");
t1.append(Mat::ones(1, 1, CV_8U));

Template t2 = t1.clone();

t2.file; // returns "picture.jpg"
t2; // returns ["1"]
</code></pre>
<hr />
<h1 id="templatelist">TemplateList</h1>
<hr />
<h1 id="context">Context</h1>
<hr />
<h1 id="object">Object</h1>
<hr />
<h1 id="factory">Factory</h1>
<hr />
<h1 id="transform">Transform</h1>
<hr />
<h1 id="untrainabletransform">UntrainableTransform</h1>
<hr />
<h1 id="metatransform">MetaTransform</h1>
<hr />
<h1 id="untrainablemetatransform">UntrainableMetaTransform</h1>
<hr />
<h1 id="metadatatransform">MetadataTransform</h1>
<hr />
<h1 id="untrainablemetadatatransform">UntrainableMetadataTransform</h1>
<hr />
<h1 id="timevaryingtransform">TimeVaryingTransform</h1>
<hr />
<h1 id="distance">Distance</h1>
<hr />
<h1 id="untrainabledistance">UntrainableDistance</h1>
<hr />
<h1 id="output">Output</h1>
<hr />
<h1 id="matrixoutput">MatrixOutput</h1>
<hr />
<h1 id="format">Format</h1>
<hr />
<h1 id="representation">Representation</h1>
<hr />
<h1 id="classifier">Classifier</h1></div>
        </div>

        <!-- Search modal.  Not yet supported. -->
<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="searchModalLabel">Documentation search</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>